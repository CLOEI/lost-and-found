{% extends 'base.html' %} {% set has_back = True %} {% set return_destination =
'index' %} {% block errormsg %} {% if response %} {% if response.status ==
'ERROR' %}
<p>{{ response.message }}</p>
{% endif %} {% endif %} {% endblock %} {% block subtitle %}
<h2 class="subtitle">Profile</h2>
{% endblock %} {% block contents %}
<div class="flex-container flex-col f-justify-around">
  <div class="profile-info">
    <h3 class="sectiontitle" style="padding: 0">{{ data.display_name }}</h3>
    <p>{{ data.email }}</p>
  </div>
  <div class="profile-interactions flex-container flex-row flex-nogrow">
    <div class="profile-posts" style="width: 49%">
      <h3 class="sectiontitle" style="padding: 0">
        {{ data.posts|length }} Posts
      </h3>
      <div class="flex-container flex-col">
        {% for p in data.posts %}
        <a href="listing/{{p.id}}">{{ p.title }}</a>
        {% endfor %}
      </div>
    </div>
    <div class="profile-comments" style="width: 49%">
      <h3 class="sectiontitle" style="padding: 0">
        {{ data.comments|length }} Comments
      </h3>
      {% for c in data.comments %}
      <div>
        <p>{{c.body}}</p>
        <p class="post-author" style="text-align: right">
          {{ c.display_name }}<br />
          {{ c.comment_date|time() }}
        </p>
      </div>

      {% endfor %}
    </div>
  </div>
  <div
    class="profile-buttons flex-container flex-row f-justify-end f-align-center"
  >
    <form
      method="post"
      class="flex-container flex-nogrow"
      style="width: max-content"
    >
      <div class="logout userinput" style="margin: 0">
        <button
          type="submit"
          class="button"
          style="
            background-color: #812a2a;
            color: #ffffff;
            width: 12ch;
            line-height: 1.25em;
          "
        >
          Log Out
        </button>
      </div>
    </form>
  </div>
</div>
{% endblock %}
